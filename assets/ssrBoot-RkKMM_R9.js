import{r as E,a1 as se,k as q,i as ue,a2 as V,a3 as D,p as W,B as P,z as ie,y as X,A as _,s as j,a4 as le,a5 as re,e as l,C as z,j as Y,h as $,F as ce}from"./index-RaSI5PZj.js";function ve(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const v=E(),u=E();if(se){const o=new ResizeObserver(a=>{t==null||t(a,o),a.length&&(i==="content"?u.value=a[0].contentRect:u.value=a[0].target.getBoundingClientRect())});q(()=>{o.disconnect()}),ue(v,(a,r)=>{r&&(o.unobserve(V(r)),u.value=void 0),a&&o.observe(V(a))},{flush:"post"})}return{resizeRef:v,contentRect:D(u)}}const B=Symbol.for("vuetify:layout"),G=Symbol.for("vuetify:layout-item"),Z=1e3,pe=W({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),me=W({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ge(){const t=P(B);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function he(t){const i=P(B);if(!i)throw new Error("[Vuetify] Could not find injected layout");const v=t.id??`layout-item-${ie()}`,u=X("useLayoutItem");_(G,{id:v});const o=j(!1);le(()=>o.value=!0),re(()=>o.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:r}=i.register(u,{...t,active:l(()=>o.value?!1:t.active.value),id:v});return q(()=>i.unregister(v)),{layoutItemStyles:a,layoutRect:i.layoutRect,layoutItemScrimStyles:r}}const de=(t,i,v,u)=>{let o={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...o}}];for(const r of t){const p=i.get(r),g=v.get(r),L=u.get(r);if(!p||!g||!L)continue;const h={...o,[p.value]:parseInt(o[p.value],10)+(L.value?parseInt(g.value,10):0)};a.push({id:r,layer:h}),o=h}return a};function Ie(t){const i=P(B,null),v=l(()=>i?i.rootZIndex.value-100:Z),u=E([]),o=z(new Map),a=z(new Map),r=z(new Map),p=z(new Map),g=z(new Map),{resizeRef:L,contentRect:h}=ve(),J=l(()=>{const n=new Map,d=t.overlaps??[];for(const e of d.filter(c=>c.includes(":"))){const[c,s]=e.split(":");if(!u.value.includes(c)||!u.value.includes(s))continue;const y=o.get(c),m=o.get(s),S=a.get(c),R=a.get(s);!y||!m||!S||!R||(n.set(s,{position:y.value,amount:parseInt(S.value,10)}),n.set(c,{position:m.value,amount:-parseInt(R.value,10)}))}return n}),I=l(()=>{const n=[...new Set([...r.values()].map(e=>e.value))].sort((e,c)=>e-c),d=[];for(const e of n){const c=u.value.filter(s=>{var y;return((y=r.get(s))==null?void 0:y.value)===e});d.push(...c)}return de(d,o,a,p)}),H=l(()=>!Array.from(g.values()).some(n=>n.value)),b=l(()=>I.value[I.value.length-1].layer),Q=l(()=>({"--v-layout-left":$(b.value.left),"--v-layout-right":$(b.value.right),"--v-layout-top":$(b.value.top),"--v-layout-bottom":$(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=l(()=>I.value.slice(1).map((n,d)=>{let{id:e}=n;const{layer:c}=I.value[d],s=a.get(e),y=o.get(e);return{id:e,...c,size:Number(s.value),position:y.value}})),N=n=>x.value.find(d=>d.id===n),O=X("createLayout"),T=j(!1);Y(()=>{T.value=!0}),_(B,{register:(n,d)=>{let{id:e,order:c,position:s,layoutSize:y,elementSize:m,active:S,disableTransitions:R,absolute:te}=d;r.set(e,c),o.set(e,s),a.set(e,y),p.set(e,S),R&&g.set(e,R);const F=ce(G,O==null?void 0:O.vnode).indexOf(n);F>-1?u.value.splice(F,0,e):u.value.push(e);const K=l(()=>x.value.findIndex(w=>w.id===e)),A=l(()=>v.value+I.value.length*2-K.value*2),oe=l(()=>{const w=s.value==="left"||s.value==="right",C=s.value==="right",ae=s.value==="bottom",U={[s.value]:0,zIndex:A.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(C||ae?-1:1)}%)`,position:te.value||v.value!==Z?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!T.value)return U;const f=x.value[K.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const M=J.value.get(e);return M&&(f[M.position]+=M.amount),{...U,height:w?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:C?void 0:`${f.left}px`,right:C?`${f.right}px`:void 0,top:s.value!=="bottom"?`${f.top}px`:void 0,bottom:s.value!=="top"?`${f.bottom}px`:void 0,width:w?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),ne=l(()=>({zIndex:A.value-1}));return{layoutItemStyles:oe,layoutItemScrimStyles:ne,zIndex:A}},unregister:n=>{r.delete(n),o.delete(n),a.delete(n),p.delete(n),g.delete(n),u.value=u.value.filter(d=>d!==n)},mainRect:b,mainStyles:Q,getLayoutItem:N,items:x,layoutRect:h,rootZIndex:v});const k=l(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),ee=l(()=>({zIndex:i?v.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:k,layoutStyles:ee,getLayoutItem:N,items:x,layoutRect:h,layoutRef:L}}function be(){const t=j(!1);return Y(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:l(()=>t.value?void 0:{transition:"none !important"}),isBooted:D(t)}}export{me as a,he as b,Ie as c,ve as d,ge as e,pe as m,be as u};
